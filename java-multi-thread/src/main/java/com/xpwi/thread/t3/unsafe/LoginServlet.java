package com.xpwi.thread.t3.unsafe;/** * <p> *  不安全 * * @author XiaoPengwei * @since 2019-04-24 */public class LoginServlet {    private static String usernameRef;    private static String passwordRef;    public static void doPost(String username, String password){        try{            //A 先登录, 赋值 userNameRef, 此时 A 在 sleep, B 又来了            usernameRef = username;            if (username.equals("userA")){                Thread.sleep(5000);            }            passwordRef = password;            System.out.println("username="+usernameRef+" password="+passwordRef);        } catch (InterruptedException e) {            e.printStackTrace();        }    }}